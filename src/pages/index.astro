---
import fetchApi from '../lib/payload';
import type FrontPage from '../interfaces/frontPage';
import Layout from '../layouts/Layout.astro';
import RichText from '../components/RichText';
import WCAGListPrinciples from '../components/WCAGListPrinciples.astro';

const frontPage = await fetchApi<FrontPage>({
  endpoint: 'ReqFrontPage',
  global: true,
  lang: 'en'
});

const nodes = frontPage.content.root.children as RichTextNode[];
---

<Layout title={ frontPage.title } locale="en" metaDescription={ frontPage.metaDescription }
  currentType="front" currentUrl="front" fiUrl="front" engUrl="front" alternateFi="fi" alternateEn="en" type="front"
>
  <div class="max-w-[1564px] mx-auto md:px-8-px md:flex">
    <div class="text-lt-gray dark:text-dk-gray py-2 px-4-px max-w-xl mx-auto md:py-6 md:px-8-px lg:max-w-4xl w-full">
      <h1 id="skip-target">{ frontPage.title }</h1>
      <div class="text-xl bodytext">
        <RichText client:load nodes={nodes} lang="en" />
        <WCAGListPrinciples />
      </div>
    </div>
  </div>
</Layout>